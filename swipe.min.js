function Swipe(n,e){var f=function(){};var u=function(D){setTimeout(D||f,0)};var B={addEventListener:!!window.addEventListener,touch:("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch,transitions:(function(D){var F=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var E in F){if(D.style[F[E]]!==undefined){return true}}return false})(document.createElement("swipe"))};if(!n){return}var c=n.children[0];var s,d,x,g;e=e||{};var k=parseInt(e.startSlide,10)||0;var v=e.speed||300;e.continuous=e.continuous!==undefined?e.continuous:true;e.slideDirection=e.slideDirection||"x";function o(){s=c.children;g=s.length;if(s.length<2){e.continuous=false}if(B.transitions&&e.continuous&&s.length<3){c.appendChild(s[0].cloneNode(true));c.appendChild(s[1].cloneNode(true));s=c.children}d=new Array(s.length);if(e.slideDirection==="x"){x=n.getBoundingClientRect().width||n.offsetWidth;c.style.width=(s.length*x)+"px";var E=s.length;while(E--){var D=s[E];D.style.width=x+"px";D.setAttribute("data-index",E);if(B.transitions){D.style.left=(E*-x)+"px";r(E,k>E?-x:(k<E?x:0),0)}}if(!B.transitions){c.style.left=(k*-width)+"px"}}else{x=n.getBoundingClientRect().height||n.offsetHeight;c.style.height=(s.length*x)+"px";var E=s.length;while(E--){var D=s[E];D.style.height=x+"px";D.setAttribute("data-index",E);if(B.transitions){D.style.top=(E*-x)+"px";r(E,k>E?-x:(k<E?x:0),0)}}if(!B.transitions){c.style.top=(k*-x)+"px"}}if(e.continuous&&B.transitions){r(i(k-1),-x,0);r(i(k+1),x,0)}n.style.visibility="visible"}function p(){if(e.continuous){a(k-1)}else{if(k){a(k-1)}}}function q(){if(e.continuous){a(k+1)}else{if(k<s.length-1){a(k+1)}}}function i(D){return(s.length+(D%s.length))%s.length}function a(H,E){if(k==H){return}if(B.transitions){var G=Math.abs(k-H)/(k-H);if(e.continuous){var D=G;G=-d[i(H)]/x;if(G!==D){H=-G*s.length+H}}var F=Math.abs(k-H)-1;while(F--){r(i((H>k?H:k)-F-1),x*G,0)}H=i(H);r(k,x*G,E||v);r(H,0,E||v);if(e.continuous){r(i(H-G),-(x*G),0)}}else{H=i(H);j(k*-x,H*-x,E||v)}k=H;u(e.callback&&e.callback(k,s[k]))}function r(D,F,E){m(D,F,E);d[D]=F}function m(E,H,G){var D=s[E];var F=D&&D.style;if(!F){return}F.webkitTransitionDuration=F.MozTransitionDuration=F.msTransitionDuration=F.OTransitionDuration=F.transitionDuration=G+"ms";if(e.slideDirection==="x"){F.webkitTransform="translate("+H+"px,0)translateZ(0)";F.msTransform=F.MozTransform=F.OTransform="translate("+H+"px)"}else{F.webkitTransform="translate(0,"+H+"px)translateZ(0)";F.msTransform=F.MozTransform=F.OTransform="translate(0,"+H+"px)"}}function j(H,G,D){if(!D){c.style.left=G+"px";return}var F=+new Date;var E=setInterval(function(){var I=+new Date-F;if(I>D){c.style.left=G+"px";if(A){y()}e.transitionEnd&&e.transitionEnd.call(event,k,s[k]);clearInterval(E);return}c.style.left=(((G-H)*(Math.floor((I/D)*100)/100))+H)+"px"},4)}var A=e.auto||0;var w;function y(){clearTimeout(w);w=setTimeout(q,A)}function t(){A=0;clearTimeout(w)}var h={};var z={};var l;var C;var b={handleEvent:function(D){switch(D.type){case"touchstart":!e.disableTouch&&this.start(D);break;case"touchmove":!e.disableTouch&&this.move(D);break;case"touchend":!e.disableTouch&&u(this.end(D));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":u(this.transitionEnd(D));break;case"resize":u(o);break}if(e.stopPropagation){D.stopPropagation()}},start:function(D){var E=D.touches[0];h={x:E.pageX,y:E.pageY,time:+new Date};l=undefined;z={};c.addEventListener("touchmove",this,false);c.addEventListener("touchend",this,false)},move:function(D){if(D.touches.length>1||D.scale&&D.scale!==1){return}if(e.disableScroll){D.preventDefault()}var E=D.touches[0];z={x:E.pageX-h.x,y:E.pageY-h.y};e.slideDirection==="x"&&(l=!!(Math.abs(z.x)>Math.abs(z.y)));e.slideDirection==="y"&&(l=!!(Math.abs(z.y)>Math.abs(z.x)));if(l){C=z[e.slideDirection];D.preventDefault();t();if(e.continuous){m(i(k-1),C+d[i(k-1)],0);m(k,C+d[k],0);m(i(k+1),C+d[i(k+1)],0)}else{C=C/((!k&&C>0||k==s.length-1&&C<0)?(Math.abs(C)/x+1):1);m(k-1,C+d[k-1],0);m(k,C+d[k],0);m(k+1,C+d[k+1],0)}}},end:function(F){var H=+new Date-h.time;C=z[e.slideDirection];var E=Number(H)<250&&Math.abs(C)>20||Math.abs(C)>x/2;var D=!k&&C>0||k==s.length-1&&C<0;if(e.continuous){D=false}var G=C<0;if(E&&!D){if(G){if(e.continuous){r(i(k-1),-x,0);r(i(k+2),x,0)}else{r(k-1,-x,0)}r(k,d[k]-x,v);r(i(k+1),d[i(k+1)]-x,v);k=i(k+1)}else{if(e.continuous){r(i(k+1),x,0);r(i(k-2),-x,0)}else{r(k+1,x,0)}r(k,d[k]+x,v);r(i(k-1),d[i(k-1)]+x,v);k=i(k-1)}e.callback&&e.callback(k,s[k])}else{if(e.continuous){r(i(k-1),-x,v);r(k,0,v);r(i(k+1),x,v)}else{r(k-1,-x,v);r(k,0,v);r(k+1,x,v)}}c.removeEventListener("touchmove",b,false);c.removeEventListener("touchend",b,false);l=false},transitionEnd:function(D){if(parseInt(D.target.getAttribute("data-index"),10)==k){if(e.continuous){A=e.auto||0;if(A){y()}}e.transitionEnd&&e.transitionEnd.call(D,k,s[k])}}};o();if(A){y()}if(B.addEventListener){if(B.touch){c.addEventListener("touchstart",b,false)}if(B.transitions){c.addEventListener("webkitTransitionEnd",b,false);c.addEventListener("msTransitionEnd",b,false);c.addEventListener("oTransitionEnd",b,false);c.addEventListener("otransitionend",b,false);c.addEventListener("transitionend",b,false)}window.addEventListener("resize",b,false)}else{window.onresize=function(){o()}}return{setup:function(){o()},begin:function(){y()},slide:function(E,D){t();a(E,D)},prev:function(){t();p()},next:function(){t();q()},stop:function(){t()},getPos:function(){return k},getNumSlides:function(){return g},kill:function(){t();if(e.slideDirection==="x"){c.style.width="";c.style.left="";var E=s.length;while(E--){var D=s[E];D.style.width="";D.style.left="";if(B.transitions){m(E,0,0)}}}else{c.style.height="";c.style.top="";var E=s.length;while(E--){var D=s[E];D.style.height="";D.style.top="";if(B.transitions){m(E,0,0)}}}if(B.addEventListener){c.removeEventListener("touchstart",b,false);c.removeEventListener("webkitTransitionEnd",b,false);c.removeEventListener("msTransitionEnd",b,false);c.removeEventListener("oTransitionEnd",b,false);c.removeEventListener("otransitionend",b,false);c.removeEventListener("transitionend",b,false);window.removeEventListener("resize",b,false)}else{window.onresize=null}}}}if(window.jQuery||window.Zepto){(function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new Swipe(a(this)[0],b))})}})(window.jQuery||window.Zepto)};
